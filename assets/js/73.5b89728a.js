(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{215:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"go部署在阿里云linux服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go部署在阿里云linux服务器","aria-hidden":"true"}},[a._v("#")]),a._v(" Go部署在阿里云linux服务器")]),a._v(" "),s("h2",{attrs:{id:"更新-apt-get"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新-apt-get","aria-hidden":"true"}},[a._v("#")]),a._v(" 更新 apt-get")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sudo apt-get update\n")])])]),s("h2",{attrs:{id:"安装了nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装了nginx","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装了nginx")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$  apt-get nginx\n")])])]),s("h2",{attrs:{id:"开启ngnix-服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启ngnix-服务","aria-hidden":"true"}},[a._v("#")]),a._v(" 开启ngnix 服务")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$  nginx\n")])])]),s("h2",{attrs:{id:"去浏览器请求xxx-xxx-xxxx-xxxx-80"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#去浏览器请求xxx-xxx-xxxx-xxxx-80","aria-hidden":"true"}},[a._v("#")]),a._v(" 去浏览器请求xxx.xxx.xxxx.xxxx:80")]),a._v(" "),s("p",[a._v("以上只是测试服务器使用")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/1594482-e2a68d00fa81453b.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"安装go环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装go环境","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装go环境")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$  apt  install go-lang\n")])])]),s("h2",{attrs:{id:"创建一个工程目录用来放代码-任意目录都可以"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建一个工程目录用来放代码-任意目录都可以","aria-hidden":"true"}},[a._v("#")]),a._v(" 创建一个工程目录用来放代码(任意目录都可以)")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ cd /usr \n$ mkdir   workspace\n$cd workspace\n$ mkdir  pkg\n$mkdir   src\n$mkdir   bin\n")])])]),s("h2",{attrs:{id:"设置环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置环境变量","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置环境变量")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ cd /etc \n$ vi /profile\n")])])]),s("ul",[s("li",[a._v("如下图:")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/1594482-43e5fa0b807fa217.png",alt:""}})]),a._v(" "),s("ul",[s("li",[a._v("在最后面添加我们的环境变量")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("// 设置go安装路径\nexport GOROOT=/usr/local/go\nexport PATH=$PATH:$GOROOT/bin\n\n// 设置工程目录\nexport GOPATH=/usr/workspace\nexport PATH=$PATH:$GOPATH/bin\n")])])]),s("h2",{attrs:{id:"刷新环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#刷新环境变量","aria-hidden":"true"}},[a._v("#")]),a._v(" 刷新环境变量")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ source /etc/profile\n")])])]),s("h2",{attrs:{id:"查看一下go的版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看一下go的版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看一下go的版本")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ go version\n")])])]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),s("p",[a._v("go version go1.8.3 linux/amd64")])]),a._v(" "),s("h2",{attrs:{id:"将我们的工程拷贝之工程目录下的src目录下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将我们的工程拷贝之工程目录下的src目录下","aria-hidden":"true"}},[a._v("#")]),a._v(" 将我们的工程拷贝之工程目录下的src目录下")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("scp -r /Users/xujie/go/src/ZJ  用户名@云主机地址:/usr/workspace/src\nscp -r /Users/xujie/go/src/ZJ  root@44.93.241.110:/usr/workspace/src\n")])])]),s("h2",{attrs:{id:"下载程序所有的依赖包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载程序所有的依赖包","aria-hidden":"true"}},[a._v("#")]),a._v(" 下载程序所有的依赖包")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('go get "github.com/astaxie/beego"\n')])])]),s("h2",{attrs:{id:"安装程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装程序","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装程序")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$ cd /user/workspace/src\n$ go install ZJ\n$ ZJ  // 直接输入包名就可以运行\n")])])]),s("h2",{attrs:{id:"直接执行-main-go-的程序也可以启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#直接执行-main-go-的程序也可以启动","aria-hidden":"true"}},[a._v("#")]),a._v(" 直接执行 main.go 的程序也可以启动")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("$  cd /user/workspace/src/ZJ\n$  go run main.go & // 加个& 表示后台运行\n")])])]),s("h2",{attrs:{id:"把服务器的配置设置成允许全网段访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#把服务器的配置设置成允许全网段访问","aria-hidden":"true"}},[a._v("#")]),a._v(" 把服务器的配置设置成允许全网段访问")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/1594482-00b30ca388a55a53.png",alt:""}})]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/1594482-68e1b245eb34df53.png",alt:""}})]),a._v(" "),s("h2",{attrs:{id:"完成以上几步-我们通过浏览器就能访问我们的api了"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#完成以上几步-我们通过浏览器就能访问我们的api了","aria-hidden":"true"}},[a._v("#")]),a._v(" 完成以上几步 我们通过浏览器就能访问我们的API了")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/1594482-75e2599335b57c1f.png",alt:""}})]),a._v(" "),s("p",[a._v('我使用的web框架为beego ,在app.conf 文件中 设置 httpaddr = "127.0.0.1",通过外网不能进行访问端口,修改为localhost也不能访问,程序没有报错')]),a._v(" "),s("p",[a._v("通过命令  lsof -i:8080 查询端口号被占用,但是不能进行外网访问")]),a._v(" "),s("p",[a._v("最后通过以下方法解决掉这个问题")]),a._v(" "),s("p",[a._v("第一种\n直接 修改httpaddr=“0.0.0.0,”")]),a._v(" "),s("p",[a._v("第二种\n删除httpaddr 的配置,只写默认端口即可")])])}],!1,null,null,null);t.default=r.exports}}]);