<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试中遇到的Git 问题 | Jovins Blog</title>
    <meta name="description" content="Work Hard, Play Hard">
    <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.fa6af71c.css" as="style"><link rel="preload" href="/assets/js/app.f8b9f1d0.js" as="script"><link rel="preload" href="/assets/js/12.37211df2.js" as="script"><link rel="prefetch" href="/assets/js/10.9a6ef7a0.js"><link rel="prefetch" href="/assets/js/100.bfe78b9a.js"><link rel="prefetch" href="/assets/js/101.c2198a62.js"><link rel="prefetch" href="/assets/js/102.4a24412d.js"><link rel="prefetch" href="/assets/js/103.67dbecff.js"><link rel="prefetch" href="/assets/js/104.8654c38f.js"><link rel="prefetch" href="/assets/js/105.0bca7365.js"><link rel="prefetch" href="/assets/js/106.c15d7c5d.js"><link rel="prefetch" href="/assets/js/107.7f7fc072.js"><link rel="prefetch" href="/assets/js/108.55e72806.js"><link rel="prefetch" href="/assets/js/109.fa9f3f1c.js"><link rel="prefetch" href="/assets/js/11.6d94f3a4.js"><link rel="prefetch" href="/assets/js/110.498db0a9.js"><link rel="prefetch" href="/assets/js/111.261aedd5.js"><link rel="prefetch" href="/assets/js/112.1ec6e460.js"><link rel="prefetch" href="/assets/js/13.e4464b27.js"><link rel="prefetch" href="/assets/js/14.267f63e1.js"><link rel="prefetch" href="/assets/js/15.fe5374e0.js"><link rel="prefetch" href="/assets/js/16.7f36ce0a.js"><link rel="prefetch" href="/assets/js/17.84ba5a13.js"><link rel="prefetch" href="/assets/js/18.905db59f.js"><link rel="prefetch" href="/assets/js/19.f05aa562.js"><link rel="prefetch" href="/assets/js/2.6fb736d5.js"><link rel="prefetch" href="/assets/js/20.86c30ccf.js"><link rel="prefetch" href="/assets/js/21.f8245fe0.js"><link rel="prefetch" href="/assets/js/22.21d72429.js"><link rel="prefetch" href="/assets/js/23.8da9e2b9.js"><link rel="prefetch" href="/assets/js/24.a011c28f.js"><link rel="prefetch" href="/assets/js/25.3c094801.js"><link rel="prefetch" href="/assets/js/26.64166cac.js"><link rel="prefetch" href="/assets/js/27.94119faa.js"><link rel="prefetch" href="/assets/js/28.a6c1d1c9.js"><link rel="prefetch" href="/assets/js/29.075fe485.js"><link rel="prefetch" href="/assets/js/3.4a7f389d.js"><link rel="prefetch" href="/assets/js/30.52fe73ae.js"><link rel="prefetch" href="/assets/js/31.84193a8a.js"><link rel="prefetch" href="/assets/js/32.08e39057.js"><link rel="prefetch" href="/assets/js/33.c684e4bf.js"><link rel="prefetch" href="/assets/js/34.a5b8aa8d.js"><link rel="prefetch" href="/assets/js/35.37ed9588.js"><link rel="prefetch" href="/assets/js/36.275c6961.js"><link rel="prefetch" href="/assets/js/37.a6de5443.js"><link rel="prefetch" href="/assets/js/38.42c598df.js"><link rel="prefetch" href="/assets/js/39.f72d1c0f.js"><link rel="prefetch" href="/assets/js/4.93250607.js"><link rel="prefetch" href="/assets/js/40.41ac10f8.js"><link rel="prefetch" href="/assets/js/41.eac8588f.js"><link rel="prefetch" href="/assets/js/42.9279b0d6.js"><link rel="prefetch" href="/assets/js/43.8ba37c67.js"><link rel="prefetch" href="/assets/js/44.da64401a.js"><link rel="prefetch" href="/assets/js/45.d0cb6eca.js"><link rel="prefetch" href="/assets/js/46.7e1d1c11.js"><link rel="prefetch" href="/assets/js/47.74073210.js"><link rel="prefetch" href="/assets/js/48.61053c1d.js"><link rel="prefetch" href="/assets/js/49.92028fd0.js"><link rel="prefetch" href="/assets/js/5.79acbb2c.js"><link rel="prefetch" href="/assets/js/50.8c914072.js"><link rel="prefetch" href="/assets/js/51.f365558c.js"><link rel="prefetch" href="/assets/js/52.63c0eda0.js"><link rel="prefetch" href="/assets/js/53.361b7eae.js"><link rel="prefetch" href="/assets/js/54.28f8551b.js"><link rel="prefetch" href="/assets/js/55.cc5d358c.js"><link rel="prefetch" href="/assets/js/56.2e03d04e.js"><link rel="prefetch" href="/assets/js/57.ad261e0e.js"><link rel="prefetch" href="/assets/js/58.7015c0dd.js"><link rel="prefetch" href="/assets/js/59.d4248536.js"><link rel="prefetch" href="/assets/js/6.93b8b55a.js"><link rel="prefetch" href="/assets/js/60.f361ab6c.js"><link rel="prefetch" href="/assets/js/61.21e95b9e.js"><link rel="prefetch" href="/assets/js/62.ab5034f4.js"><link rel="prefetch" href="/assets/js/63.236ba81a.js"><link rel="prefetch" href="/assets/js/64.51b79ef0.js"><link rel="prefetch" href="/assets/js/65.cc15cead.js"><link rel="prefetch" href="/assets/js/66.f0f4cc89.js"><link rel="prefetch" href="/assets/js/67.33293111.js"><link rel="prefetch" href="/assets/js/68.cf256f61.js"><link rel="prefetch" href="/assets/js/69.dc69c42b.js"><link rel="prefetch" href="/assets/js/7.13ab43dd.js"><link rel="prefetch" href="/assets/js/70.20d56f01.js"><link rel="prefetch" href="/assets/js/71.7aa5c8b0.js"><link rel="prefetch" href="/assets/js/72.6493ff32.js"><link rel="prefetch" href="/assets/js/73.c6ca5e12.js"><link rel="prefetch" href="/assets/js/74.9c503f78.js"><link rel="prefetch" href="/assets/js/75.586f3875.js"><link rel="prefetch" href="/assets/js/76.c9363ec6.js"><link rel="prefetch" href="/assets/js/77.8260464c.js"><link rel="prefetch" href="/assets/js/78.afca25c9.js"><link rel="prefetch" href="/assets/js/79.ca8ca171.js"><link rel="prefetch" href="/assets/js/8.8b519eda.js"><link rel="prefetch" href="/assets/js/80.5411e397.js"><link rel="prefetch" href="/assets/js/81.01139ab3.js"><link rel="prefetch" href="/assets/js/82.bd392a31.js"><link rel="prefetch" href="/assets/js/83.51d86099.js"><link rel="prefetch" href="/assets/js/84.a421da92.js"><link rel="prefetch" href="/assets/js/85.9f7f9172.js"><link rel="prefetch" href="/assets/js/86.a43bbb71.js"><link rel="prefetch" href="/assets/js/87.d2b903b2.js"><link rel="prefetch" href="/assets/js/88.d446ecc4.js"><link rel="prefetch" href="/assets/js/89.e179aceb.js"><link rel="prefetch" href="/assets/js/9.054263c1.js"><link rel="prefetch" href="/assets/js/90.e326b3e5.js"><link rel="prefetch" href="/assets/js/91.341e6942.js"><link rel="prefetch" href="/assets/js/92.a362b2dc.js"><link rel="prefetch" href="/assets/js/93.28623ce1.js"><link rel="prefetch" href="/assets/js/94.2c54764e.js"><link rel="prefetch" href="/assets/js/95.b01fe2db.js"><link rel="prefetch" href="/assets/js/96.78aa2f4a.js"><link rel="prefetch" href="/assets/js/97.b210b9c8.js"><link rel="prefetch" href="/assets/js/98.a884c21f.js"><link rel="prefetch" href="/assets/js/99.10f6d591.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fa6af71c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jovins Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/source/swift/" class="nav-link">Swift</a></div><div class="nav-item"><a href="/source/swiftui/" class="nav-link">SwiftUI</a></div><div class="nav-item"><a href="/source/summary/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/source/go/" class="nav-link">Go</a></div><div class="nav-item"><a href="/source/program/" class="nav-link">小程序</a></div><div class="nav-item"><a href="/source/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/source/git/" class="nav-link router-link-active">Git</a></div><div class="nav-item"><a href="https://github.com/Jovins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/source/swift/" class="nav-link">Swift</a></div><div class="nav-item"><a href="/source/swiftui/" class="nav-link">SwiftUI</a></div><div class="nav-item"><a href="/source/summary/" class="nav-link">Summary</a></div><div class="nav-item"><a href="/source/go/" class="nav-link">Go</a></div><div class="nav-item"><a href="/source/program/" class="nav-link">小程序</a></div><div class="nav-item"><a href="/source/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/source/git/" class="nav-link router-link-active">Git</a></div><div class="nav-item"><a href="https://github.com/Jovins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Git</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/source/git/" class="sidebar-link">Git版本控制</a></li><li><a href="/source/git/Git-Flow.html" class="sidebar-link">Git-Flow 的工作流程</a></li><li><a href="/source/git/Interview-Git.html" class="active sidebar-link">面试中遇到的Git 问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/source/git/Interview-Git.html#基础部分" class="sidebar-link">基础部分</a></li><li class="sidebar-sub-header"><a href="/source/git/Interview-Git.html#git-add-和-git-stage-区别" class="sidebar-link">git add 和 git stage 区别</a></li><li class="sidebar-sub-header"><a href="/source/git/Interview-Git.html#git-reset、git-revert-和-git-checkout-区别" class="sidebar-link">git reset、git revert 和 git checkout 区别</a></li><li class="sidebar-sub-header"><a href="/source/git/Interview-Git.html#git-flow-基本流程" class="sidebar-link">Git-Flow 基本流程</a></li><li class="sidebar-sub-header"><a href="/source/git/Interview-Git.html#解释下-pr-和-mr-的区别" class="sidebar-link">解释下 PR 和 MR 的区别</a></li></ul></li><li><a href="/source/git/git-terminal.html" class="sidebar-link">Git命令</a></li><li><a href="/source/git/Git-Error.html" class="sidebar-link">Git 遇到的问题</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="面试中遇到的git-问题"><a href="#面试中遇到的git-问题" aria-hidden="true" class="header-anchor">#</a> 面试中遇到的Git 问题</h1> <p>团队协作能力一直是我们招聘开发人员的重要考核指标之一。而考核这个能力的原因很简单：<strong>一般公司</strong>都不会只有一个开发…而一旦涉及多人协作开发，良好的协作能力和习惯能显著提高整个团队的开发效率。Time is money！</p> <p>说到协作，面试中当然就会聊到开发人员日常最需要协作的事情，代码协作。因为 Github 在国内的流行，很多公司都已经把代码托管到 Github 或者内部的 git 服务上，所以大家也慢慢把 git 技能的考察引入到面试中。</p> <h2 id="基础部分"><a href="#基础部分" aria-hidden="true" class="header-anchor">#</a> 基础部分</h2> <p><strong>平时都用什么 git 工具</strong></p> <p>除了 git 自带的命令行工具，做为 iOS 开发，接触最多的当然是 Xcode 自带的 Source Control 功能，但是这两个工具都有一些自己的不足。</p> <ul><li>Xcode：Xcode 本身自己是支持 git 的，但是它有一个特别坑的点的：那就是卡…而且文件越大越卡，甚至会 Crash。所以对于 .pbxproj 这种大文件的冲突，Xcode 基本是蒙圈状态的，另外它提供的 git 支持也有些单薄。</li> <li>命令行：只能说十个里面九个菜，还有一个是大神，虽然命令行提供了全部的功能，但是很多用 GUI 工具可以很便捷解决的问题，命令行做起来都比较麻烦。当然并不是让大家不要去命令行，通过命令行可以对 git 的功能和原理有一个更深入的了解。</li></ul> <p>因为这些不足，所以我们通常会用一些第三方 GUI 工具来提高我们 git 仓库管理的效率：</p> <ul><li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener noreferrer">SourceTree<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：笔者日常使用的一个图形化的 git 增强工具，而最好用的功能就在于它集成了 <strong>GitFlow</strong>，让开发者可以更简单、更规范的去做一些 git 操作；另外它还提供了更友好的 merge 界面，但是操作起来不是很顺手，因为它只支持整行删除;</li></ul> <ul><li><p><a href="https://www.syntevo.com/smartgit/" target="_blank" rel="noopener noreferrer">SmartGit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.git-tower.com/mac" target="_blank" rel="noopener noreferrer">Tower<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：Tower 被誉为 Mac 平台最好的 git 客户端。软件大大简化了 git 的使用难度，用户可以通过拖拽完成操作，更方便、更高效。需要注意的是，30 天后还想使用全特性的话，需要 $60。</p></li> <li><p><a href="https://link.juejin.im?target=https%3A%2F%2Fatom.io%2F" target="_blank" rel="noopener noreferrer">Atom<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：Atom 本身并不是专门用来做 git 管理的工具，而是一个支持多种开发语言的开源 IDE。提到它的原因是 <a href="https://link.juejin.im?target=https%3A%2F%2Fatom.io%2Fpackages%2Fmerge-conflicts" target="_blank" rel="noopener noreferrer">merge-conflicts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, 这个插件提供的 merge 界面，要比 SourceTree 的更好用，Atom 会在当前内容的基础上，把有冲突的部分直接对比标示出来，开发人员可以像编辑普通文本一样在标示的区域内直接进行修改，并最终选择自己满意的那个部分作为 merge 之后的内容。</p></li></ul> <p><strong>考察关键点</strong></p> <ul><li>对自己所用 git 工具的了解程度；</li> <li>主观能动性，是否能主动找方法解决目前工作中的痛点。</li></ul> <p><strong>回答关键点</strong></p> <p>不要只说你用什么。而是要分析优劣势。为什么用哪个工具？为什么不用哪个工具？</p> <h2 id="git-add-和-git-stage-区别"><a href="#git-add-和-git-stage-区别" aria-hidden="true" class="header-anchor">#</a> git add 和 git stage 区别</h2> <p>在回答这个问题之前需要先了解 git 仓库的三个组成部分：工作区（Working Directory）、暂存区（Stage）和历史记录区（History）：</p> <ul><li>工作区：在 git 管理下的正常目录都算是工作区，我们平时的编辑工作都是在工作区完成。</li> <li>暂存区：临时区域。里面存放将要提交文件的快照。</li> <li>历史记录区：git commit 后的记录区。</li></ul> <p>然后是这三个区的转换关系以及转换所使用的命令：</p> <p><img src="/assets/img/interview-git-1.49ab8326.png" alt></p> <p>然后我们就可以来说一下 git add 和 git stage 了。其实，他们两是<strong>同义</strong>的，所以，惊不惊喜，意不意外？<strong>这个问题竟然是个陷阱</strong>…引入 git stage 的原因其实比较有趣：是因为要跟 svn add 区分，两者的功能是完全不一样的，svn add 是将某个文件加入版本控制，而 git add 则是把某个文件加入暂存区，因为在 git 出来之前大家用 svn 比较多，所以为了避免误导，git 引入了git stage，然后把 git diff --staged 做为 git diff --cached 的相同命令。基于这个原因，我们建议使用 git stage 以及 git diff --staged。</p> <p><strong>考察关键点</strong></p> <ul><li>对 git 工作区（Working Directory）、暂存区（Stage）和历史记录区（History）以及转换关系的了解；</li> <li>对 git add 和 git stage 的了解。</li></ul> <p><strong>回答关键点</strong></p> <ul><li>工作区（Working Directory）、暂存区（Stage）和历史记录区（History）以及转换关系不能少；</li> <li>git stage 是 git add 的同义指令；</li> <li>我用 git stage。</li></ul> <h2 id="git-reset、git-revert-和-git-checkout-区别"><a href="#git-reset、git-revert-和-git-checkout-区别" aria-hidden="true" class="header-anchor">#</a> git reset、git revert 和 git checkout 区别</h2> <p>这个问题同样也需要先了解 git 仓库的三个组成部分：工作区（Working Directory）、暂存区（Stage）和历史记录区（History）。</p> <p>首先是它们的共同点：用来撤销代码仓库中的某些更改。</p> <p>然后是不同点：</p> <p>首先，从 commit 层面来说：</p> <ul><li><p>git reset 可以将一个分支的末端指向之前的一个 commit。然后再下次 git 执行垃圾回收的时候，会把这个 commit 之后的 commit 都扔掉。git reset 还支持三种标记，用来标记 reset 指令影响的范围：</p> <ul><li>--mixed：会影响到暂存区和历史记录区。也是默认选项；</li> <li>--soft：只影响历史记录区；</li> <li>--hard：影响工作区、暂存区和历史记录区。</li></ul> <blockquote><p>注意：因为 git reset 是直接删除 commit 记录，从而会影响到其他开发人员的分支，所以不要在公共分支（比如 develop）做这个操作。</p></blockquote></li> <li><p>git checkout 可以将 HEAD 移到一个新的分支，并更新工作目录。因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</p></li> <li><p>git revert 和 git reset 的目的是一样的，但是做法不同，它会以创建新的 commit 的方式来撤销 commit，这样能保留之前的 commit 历史，比较安全。另外，同样因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</p></li></ul> <p><strong>关键点</strong></p> <ul><li>git reset 只是把文件从历史记录区拿到暂存区，不影响工作区的内容，而且不支持 --mixed、--soft 和 --hard。</li> <li>git checkout 则是把文件从历史记录拿到工作区，不影响暂存区的内容。</li> <li>git revert 不支持文件层面的操作。</li></ul> <p><strong>回答关键点</strong></p> <ul><li>对于 commit 层面和文件层面，这三个指令本身功能差别很大。</li> <li>git revert 不支持文件层面的操作。</li> <li>不要在公共分支做 git reset 操作。</li></ul> <h2 id="git-flow-基本流程"><a href="#git-flow-基本流程" aria-hidden="true" class="header-anchor">#</a> Git-Flow 基本流程</h2> <p>GitFlow 是由 Vincent Driessen 提出的一个 git操作流程标准。包含如下几个关键分支：</p> <table><thead><tr><th>名称</th> <th>说明</th></tr></thead> <tbody><tr><td>master</td> <td>主分支</td></tr> <tr><td>develop</td> <td>主开发分支，包含确定即将发布的代码</td></tr> <tr><td>feature</td> <td>新功能分支，一般一个新功能对应一个分支，对于功能的拆分需要比较合理，以避免一些后面不必要的代码冲突</td></tr> <tr><td>release</td> <td>发布分支，发布时候用的分支，一般测试时候发现的 bug 在这个分支进行修复</td></tr> <tr><td>hotfix</td> <td>hotfix 分支，紧急修 bug 的时候用</td></tr></tbody></table> <p>GitFlow 的优势有如下几点：</p> <ul><li>并行开发：GitFlow 可以很方便的实现并行开发：每个新功能都会建立一个新的 <code>feature</code> 分支，从而和已经完成的功能隔离开来，而且只有在新功能完成开发的情况下，其对应的 <code>feature</code> 分支才会合并到主开发分支上（也就是我们经常说的 <code>develop</code> 分支）。另外，如果你正在开发某个功能，同时又有一个新的功能需要开发，你只需要提交当前 <code>feature</code> 的代码，然后创建另外一个 <code>feature</code> 分支并完成新功能开发。然后再切回之前的 <code>feature</code> 分支即可继续完成之前功能的开发。</li> <li>协作开发：GitFlow 还支持多人协同开发，因为每个 <code>feature</code> 分支上改动的代码都只是为了让某个新的 <code>feature</code> 可以独立运行。同时我们也很容易知道每个人都在干啥。</li> <li>发布阶段：当一个新 <code>feature</code> 开发完成的时候，它会被合并到 <code>develop</code> 分支，这个分支主要用来暂时保存那些还没有发布的内容，所以如果需要再开发新的 <code>feature</code>，我们只需要从 <code>develop</code> 分支创建新分支，即可包含所有已经完成的 <code>feature</code> 。</li> <li>支持紧急修复：GitFlow 还包含了 <code>hotfix</code> 分支。这种类型的分支是从某个已经发布的 tag 上创建出来并做一个紧急的修复，而且这个紧急修复只影响这个已经发布的 tag，而不会影响到你正在开发的新 <code>feature</code>。</li></ul> <p>然后就是 GitFlow 最经典的几张流程图，一定要理解：</p> <p><img src="/assets/img/interview-git-2.15689c3b.png" alt></p> <p><code>feature</code> 分支都是从 <code>develop</code> 分支创建，完成后再合并到 <code>develop</code> 分支上，等待发布。</p> <p><img src="/assets/img/interview-git-3.63aee806.png" alt></p> <p>当需要发布时，我们从 <code>develop</code> 分支创建一个 <code>release</code> 分支</p> <p><img src="/assets/img/interview-git-4.17e967b7.png" alt></p> <p>然后这个 <code>release</code> 分支会发布到测试环境进行测试，如果发现问题就在这个分支直接进行修复。在所有问题修复之前，我们会不停的重复<strong>发布-&gt;测试-&gt;修复-&gt;重新发布-&gt;重新测试</strong>这个流程。</p> <p>发布结束后，这个 <code>release</code> 分支会合并到 <code>develop</code> 和 <code>master</code> 分支，从而保证不会有代码丢失。</p> <p><img src="/assets/img/interview-git-5.b9579f32.png" alt></p> <p><code>master</code> 分支只跟踪已经发布的代码，合并到 <code>master</code> 上的 commit 只能来自 <code>release</code> 分支和 <code>hotfix</code> 分支。</p> <p><code>hotfix</code> 分支的作用是紧急修复一些 Bug。</p> <p>它们都是从 <code>master</code> 分支上的某个 tag 建立，修复结束后再合并到 <code>develop</code> 和 <code>master</code> 分支上。</p> <p><img src="/assets/img/interview-git-6.e9f047f6.png" alt></p> <p><strong>考察关键点</strong></p> <ul><li>GitFlow 包含的分支类型和功能；</li> <li>GitFlow 的优势；</li> <li>对 GitFlow feature、release、hotfix 流程的理解。</li></ul> <p><strong>回答关键点</strong></p> <ul><li>GitFlow 的基本内容以及优势；</li> <li>对于 feature 流程，都是<strong>从 develop 分支发起</strong>，然后<strong>通过 PR／MR 的方式</strong>合并回 develop 分支；</li> <li>对于 release 流程，则是要注意几点：
<ul><li>如果 release 分支上有 bug 需要修复，直接在 release 分支上完成；</li> <li>release 分支上的 bug 修复要持续<strong>通过 PR／MR 的方式</strong>合并回 develop 分支；</li> <li>最后确认发版的时候才把 release 分支直接合并到 master 分支。</li></ul></li> <li>对于 hotfix 流程，则是要注意几点：
<ul><li>从 master 分支发起；</li> <li>修复完要同时合并到 develop 和 master。</li></ul></li></ul> <h2 id="解释下-pr-和-mr-的区别"><a href="#解释下-pr-和-mr-的区别" aria-hidden="true" class="header-anchor">#</a> 解释下 PR 和 MR 的区别</h2> <p>PR 和 MR 的全称分别是 pull request 和 merge request。解释它们两者的区别之前，我们需要先了解一下 Code Review，因为 PR 和 MR 的引入正是为了进行 Code Review。</p> <p>Code Review 是指在开发过程中，对代码的系统性检查。通常的目的是查找系统缺陷，保证代码质量和提高开发者自身水平。 Code Review 是轻量级代码评审，相对于正式代码评审，轻量级代码评审所需要的各种成本要明显低的多，如果流程正确，它可以起到更加积极的效果。</p> <p>进行 Code Review 的原因：</p> <ul><li>提高代码质量</li> <li>及早发现潜在缺陷与BUG，降低事故成本。</li> <li>促进团队内部知识共享，提高团队整体水平</li> <li>评审过程对于评审人员来说，也是一种思路重构的过程，帮助更多的人理解系统。</li></ul> <p>然后我们需要了解下 fork 和 branch，因为这是 PR 和 MR 各自所属的协作流程。</p> <p>fork 是 git 上的一个协作流程。通俗来说就是把别人的仓库备份到自己仓库，修修改改，然后再把修改的东西提交给对方审核，对方同意后，就可以实现帮别人改代码的小目标了。fork 包含了两个流程：</p> <ul><li>fork 并更新某个仓库</li></ul> <p><img src="/assets/img/interview-git-7.1d53089c.png" alt></p> <ul><li>同步 fork</li></ul> <p><img src="/assets/img/interview-git-8.cb2c6000.png" alt></p> <p>和 fork 不同，branch 并不涉及其他的仓库，操作都在当前仓库完成。</p> <p><img src="/assets/img/interview-git-9.6e7c71f4.png" alt></p> <p>所以 PR 和 MR 的最大区别就在于此。</p> <p><strong>考察关键点</strong></p> <ul><li>Code review；</li> <li>PR 和 MR 所属流程的细节。</li></ul> <p><strong>回答关键点</strong></p> <p>回答这个问题的时候不要单单只说它们的区别。而是要从 PR 和 MR 产生的原因，分析它们所属的流程，然后再得出两者的区别。</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/source/git/Git-Flow.html" class="prev">
          Git-Flow 的工作流程
        </a></span> <span class="next"><a href="/source/git/git-terminal.html">
          Git命令
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.f8b9f1d0.js" defer></script><script src="/assets/js/12.37211df2.js" defer></script>
  </body>
</html>
