<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>05-Go语言常量和变量 | Jovins Blog</title>
    <meta name="description" content="Work Hard, Play Hard">
    <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.fa6af71c.css" as="style"><link rel="preload" href="/assets/js/app.f7cda7dc.js" as="script"><link rel="preload" href="/assets/js/59.6642f800.js" as="script"><link rel="prefetch" href="/assets/js/10.99bbcf46.js"><link rel="prefetch" href="/assets/js/100.8d269315.js"><link rel="prefetch" href="/assets/js/101.2e004423.js"><link rel="prefetch" href="/assets/js/102.dd5a6d67.js"><link rel="prefetch" href="/assets/js/103.0930fc18.js"><link rel="prefetch" href="/assets/js/11.6995aa03.js"><link rel="prefetch" href="/assets/js/12.d1aeb970.js"><link rel="prefetch" href="/assets/js/13.3808cbb9.js"><link rel="prefetch" href="/assets/js/14.05c65f0c.js"><link rel="prefetch" href="/assets/js/15.8210a4e7.js"><link rel="prefetch" href="/assets/js/16.dd637c2e.js"><link rel="prefetch" href="/assets/js/17.1bac9075.js"><link rel="prefetch" href="/assets/js/18.a60404ed.js"><link rel="prefetch" href="/assets/js/19.5029f548.js"><link rel="prefetch" href="/assets/js/2.3b324bd1.js"><link rel="prefetch" href="/assets/js/20.71aeb006.js"><link rel="prefetch" href="/assets/js/21.49d3534c.js"><link rel="prefetch" href="/assets/js/22.28c254f2.js"><link rel="prefetch" href="/assets/js/23.55c74fb4.js"><link rel="prefetch" href="/assets/js/24.ce688c11.js"><link rel="prefetch" href="/assets/js/25.92ac2101.js"><link rel="prefetch" href="/assets/js/26.d144c623.js"><link rel="prefetch" href="/assets/js/27.dbc07e6f.js"><link rel="prefetch" href="/assets/js/28.72e03149.js"><link rel="prefetch" href="/assets/js/29.9f1f46fe.js"><link rel="prefetch" href="/assets/js/3.8e2386c4.js"><link rel="prefetch" href="/assets/js/30.ecfcb095.js"><link rel="prefetch" href="/assets/js/31.e00708c5.js"><link rel="prefetch" href="/assets/js/32.e66cde85.js"><link rel="prefetch" href="/assets/js/33.17b34f1f.js"><link rel="prefetch" href="/assets/js/34.ba2e8263.js"><link rel="prefetch" href="/assets/js/35.a35b2bf9.js"><link rel="prefetch" href="/assets/js/36.0f8ee978.js"><link rel="prefetch" href="/assets/js/37.9631b873.js"><link rel="prefetch" href="/assets/js/38.83917b50.js"><link rel="prefetch" href="/assets/js/39.5eb3b0f7.js"><link rel="prefetch" href="/assets/js/4.8c89249f.js"><link rel="prefetch" href="/assets/js/40.6577bc48.js"><link rel="prefetch" href="/assets/js/41.03d32368.js"><link rel="prefetch" href="/assets/js/42.285f334f.js"><link rel="prefetch" href="/assets/js/43.0dbac324.js"><link rel="prefetch" href="/assets/js/44.516aa197.js"><link rel="prefetch" href="/assets/js/45.f8b2e75e.js"><link rel="prefetch" href="/assets/js/46.57e9fe18.js"><link rel="prefetch" href="/assets/js/47.b165fdb0.js"><link rel="prefetch" href="/assets/js/48.aa65e477.js"><link rel="prefetch" href="/assets/js/49.ef99c175.js"><link rel="prefetch" href="/assets/js/5.20de59e0.js"><link rel="prefetch" href="/assets/js/50.dbeb44bd.js"><link rel="prefetch" href="/assets/js/51.5e2171f9.js"><link rel="prefetch" href="/assets/js/52.7634b21e.js"><link rel="prefetch" href="/assets/js/53.7bd0a528.js"><link rel="prefetch" href="/assets/js/54.01408fa6.js"><link rel="prefetch" href="/assets/js/55.e5207e84.js"><link rel="prefetch" href="/assets/js/56.58dc7dc8.js"><link rel="prefetch" href="/assets/js/57.807d5ae4.js"><link rel="prefetch" href="/assets/js/58.c4c79d2d.js"><link rel="prefetch" href="/assets/js/6.b9dd5642.js"><link rel="prefetch" href="/assets/js/60.6b7b9dd4.js"><link rel="prefetch" href="/assets/js/61.5aeeb802.js"><link rel="prefetch" href="/assets/js/62.9cdb5886.js"><link rel="prefetch" href="/assets/js/63.afdbcf9a.js"><link rel="prefetch" href="/assets/js/64.4feec3f4.js"><link rel="prefetch" href="/assets/js/65.01ba651f.js"><link rel="prefetch" href="/assets/js/66.056b66d4.js"><link rel="prefetch" href="/assets/js/67.c2c8c5bf.js"><link rel="prefetch" href="/assets/js/68.6b9a7204.js"><link rel="prefetch" href="/assets/js/69.a20a5f13.js"><link rel="prefetch" href="/assets/js/7.919dc9ca.js"><link rel="prefetch" href="/assets/js/70.1931c188.js"><link rel="prefetch" href="/assets/js/71.57fb23ee.js"><link rel="prefetch" href="/assets/js/72.8372585b.js"><link rel="prefetch" href="/assets/js/73.090b450b.js"><link rel="prefetch" href="/assets/js/74.1f2a6bf8.js"><link rel="prefetch" href="/assets/js/75.4fd94b1a.js"><link rel="prefetch" href="/assets/js/76.b8670ce9.js"><link rel="prefetch" href="/assets/js/77.071bdc59.js"><link rel="prefetch" href="/assets/js/78.befd2888.js"><link rel="prefetch" href="/assets/js/79.ae9bdbfb.js"><link rel="prefetch" href="/assets/js/8.5bd05e3a.js"><link rel="prefetch" href="/assets/js/80.efecfca0.js"><link rel="prefetch" href="/assets/js/81.58171b2c.js"><link rel="prefetch" href="/assets/js/82.0308dcb2.js"><link rel="prefetch" href="/assets/js/83.d0b23df5.js"><link rel="prefetch" href="/assets/js/84.70b15320.js"><link rel="prefetch" href="/assets/js/85.b0f15c7e.js"><link rel="prefetch" href="/assets/js/86.842cbc20.js"><link rel="prefetch" href="/assets/js/87.78626080.js"><link rel="prefetch" href="/assets/js/88.74b57552.js"><link rel="prefetch" href="/assets/js/89.d6bbb9ba.js"><link rel="prefetch" href="/assets/js/9.4a615f07.js"><link rel="prefetch" href="/assets/js/90.e3526e1d.js"><link rel="prefetch" href="/assets/js/91.56e0a0b6.js"><link rel="prefetch" href="/assets/js/92.ecf957b4.js"><link rel="prefetch" href="/assets/js/93.5e7580df.js"><link rel="prefetch" href="/assets/js/94.a311b382.js"><link rel="prefetch" href="/assets/js/95.efcff5d2.js"><link rel="prefetch" href="/assets/js/96.0b29e685.js"><link rel="prefetch" href="/assets/js/97.52744029.js"><link rel="prefetch" href="/assets/js/98.2b890125.js"><link rel="prefetch" href="/assets/js/99.85ff620d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fa6af71c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Jovins Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/source/swift/" class="nav-link">Swift</a></div><div class="nav-item"><a href="/source/go/" class="nav-link router-link-active">Go</a></div><div class="nav-item"><a href="/source/program/" class="nav-link">小程序</a></div><div class="nav-item"><a href="/source/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/source/git/" class="nav-link">Git</a></div><div class="nav-item"><a href="https://github.com/Jovins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/source/swift/" class="nav-link">Swift</a></div><div class="nav-item"><a href="/source/go/" class="nav-link router-link-active">Go</a></div><div class="nav-item"><a href="/source/program/" class="nav-link">小程序</a></div><div class="nav-item"><a href="/source/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/source/git/" class="nav-link">Git</a></div><div class="nav-item"><a href="https://github.com/Jovins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Go</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/source/go/" class="sidebar-link">Go语言开篇</a></li><li><a href="/source/go/go-deployed-on-the-server.html" class="sidebar-link">Go部署在阿里云linux服务器</a></li><li><a href="/source/go/Go-Path-Variable.html" class="sidebar-link">Go 环境变量</a></li><li><a href="/source/go/Go-Go-echarts.html" class="sidebar-link">Go Go-echarts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Go Web学习</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Go 基础教程</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/source/go/01-first.html" class="sidebar-link">01-C语言和Go语言对比</a></li><li><a href="/source/go/02-two.html" class="sidebar-link">02-Go语言开发环境搭建</a></li><li><a href="/source/go/03-three.html" class="sidebar-link">03-第一个Go语言程序</a></li><li><a href="/source/go/04-four.html" class="sidebar-link">04-Go语言关键字和标识符</a></li><li><a href="/source/go/05-five.html" class="active sidebar-link">05-Go语言常量和变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/source/go/05-five.html#go语言数据类型" class="sidebar-link">Go语言数据类型</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#go语言变量" class="sidebar-link">Go语言变量</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#go语言变量定义注意点" class="sidebar-link">Go语言变量定义注意点</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#局部变量和全局变量" class="sidebar-link">局部变量和全局变量</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#数据类型转换" class="sidebar-link">数据类型转换</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#数值类型和字符串类型之间转换" class="sidebar-link">数值类型和字符串类型之间转换</a></li><li class="sidebar-sub-header"><a href="/source/go/05-five.html#go语言常量" class="sidebar-link">Go语言常量</a></li></ul></li><li><a href="/source/go/06-six.html" class="sidebar-link">06-输入输出函数</a></li><li><a href="/source/go/07-seven.html" class="sidebar-link">07-Go语言命令行参数</a></li><li><a href="/source/go/08-eight.html" class="sidebar-link">08-Go语言运算符</a></li><li><a href="/source/go/09-nine.html" class="sidebar-link">09-Go语言流程控制</a></li><li><a href="/source/go/10-ten.html" class="sidebar-link">10-Go语言函数</a></li><li><a href="/source/go/11-eleven.html" class="sidebar-link">11-Go语言数组和切片</a></li><li><a href="/source/go/12-twelve.html" class="sidebar-link">12-Go语言字典和结构体</a></li><li><a href="/source/go/13-thirteen.html" class="sidebar-link">13-指针</a></li><li><a href="/source/go/14-fourteen.html" class="sidebar-link">14-Go方法和接口</a></li><li><a href="/source/go/15-fifteen.html" class="sidebar-link">15-Go语言面向对象</a></li><li><a href="/source/go/16-sixteen.html" class="sidebar-link">16-Go语言异常处理</a></li><li><a href="/source/go/17-seventeen.html" class="sidebar-link">17-Go语言字符串和正则表达式</a></li><li><a href="/source/go/18-eighteen.html" class="sidebar-link">18-Go语言和C语言交叉访问</a></li><li><a href="/source/go/19-nineteen.html" class="sidebar-link">19-文件操作</a></li><li><a href="/source/go/20-concurrent.html" class="sidebar-link">20-Go语言并发编程</a></li><li><a href="/source/go/21-Channel.html" class="sidebar-link">21-Channel</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="_05-go语言常量和变量"><a href="#_05-go语言常量和变量" aria-hidden="true" class="header-anchor">#</a> 05-Go语言常量和变量</h1> <h2 id="go语言数据类型"><a href="#go语言数据类型" aria-hidden="true" class="header-anchor">#</a> Go语言数据类型</h2> <ul><li>Go语言本质是用C语言编写的一套高级开发语言, 所以Go语言中的数据类型大部分都是由C语言演变而来的</li> <li>C语言数据类型</li></ul> <p><img src="https://upload-images.jianshu.io/upload_images/647982-64594dced40fd10b.png" alt></p> <ul><li>Go语言数据类型</li></ul> <p><img src="https://upload-images.jianshu.io/upload_images/647982-1b1b0cef2a891f70.png" alt></p> <ul><li>C语言各数据类型占用内存空间</li></ul> <table><thead><tr><th>类型</th> <th>32位编译器</th> <th>64位编译器</th></tr></thead> <tbody><tr><td>char</td> <td>1</td> <td>1</td></tr> <tr><td>int</td> <td>4</td> <td>4</td></tr> <tr><td>float</td> <td>4</td> <td>4</td></tr> <tr><td>double</td> <td>8</td> <td>8</td></tr> <tr><td>short</td> <td>2</td> <td>2</td></tr> <tr><td>long</td> <td>4</td> <td>8</td></tr> <tr><td>long long</td> <td>8</td> <td>8</td></tr> <tr><td>void*</td> <td>4</td> <td>8</td></tr></tbody></table> <ul><li>Go语言各数据类型占用内存空间</li></ul> <table><thead><tr><th>类型</th> <th>32位编译器</th> <th>64位编译器</th> <th>本质</th></tr></thead> <tbody><tr><td>int8/uint8</td> <td>1</td> <td>1</td> <td>signed char/unsigned char</td></tr> <tr><td>int16/uint16</td> <td>2</td> <td>2</td> <td>signed short/unsigned short</td></tr> <tr><td>int32/uint32</td> <td>4</td> <td>4</td> <td>signed int/unsigned int</td></tr> <tr><td>int64/uint64</td> <td>8</td> <td>8</td> <td>signed long long int/unsigned long long int</td></tr> <tr><td>byte</td> <td>1</td> <td>1</td> <td>uint8/unsigned char</td></tr> <tr><td>rune</td> <td>4</td> <td>4</td> <td>int32/signed int</td></tr> <tr><td>int</td> <td>4</td> <td>8</td> <td>根据机器位数决定长度</td></tr> <tr><td>uintptr</td> <td>4</td> <td>8</td> <td>根据机器位数决定长度 uint32/uint64</td></tr> <tr><td>float32</td> <td>4</td> <td>4</td> <td>float</td></tr> <tr><td>float64</td> <td>8</td> <td>8</td> <td>double</td></tr> <tr><td>true</td> <td>1</td> <td>1</td> <td>char类型的整型</td></tr> <tr><td>false</td> <td>1</td> <td>1</td> <td>char类型的整型</td></tr></tbody></table> <ul><li>和C语言一样,Go语言也提供了Sizeof计算变量的内存空间
<ul><li>1.导入import &quot;unsafe&quot;包</li> <li>2.通过unsafe.Sizeof()计算变量内存空间</li></ul></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;unsafe&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int8 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">int8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int16 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">int16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int32 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">int32</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;int64 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uint size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uint8 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uint16 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uint16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uint32 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uint32</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uint64 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uint64</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;uintptr size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">uintptr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;byte size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;rune size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">rune</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;float32 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">float32</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;float64 size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token function">float64</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;true size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;false size = &quot;</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>Go语言基本数据类型内部实现</p> <ul><li><a href="https://github.com/golang/go/releases" target="_blank" rel="noopener noreferrer">golang官方网站下载go1.4版本源代码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>越老版本的代码越纯粹,越适合新手学习</li> <li>随着代码的更新迭代会逐步变得非常复杂, 所以此处建议下载1.4版本</li> <li>解压后打开路径: <code>go\src\runtime\runtime.h</code></li></ul> <p><img src="https://upload-images.jianshu.io/upload_images/647982-101651e039b7e8c4.png" alt></p> <ul><li>得到如下实现代码</li></ul></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 第8行到35行</span>
typedef signed char     <span class="token builtin">int8</span><span class="token punctuation">;</span>
typedef unsigned char       <span class="token builtin">uint8</span><span class="token punctuation">;</span>
typedef signed short        <span class="token builtin">int16</span><span class="token punctuation">;</span>
typedef unsigned short      <span class="token builtin">uint16</span><span class="token punctuation">;</span>
typedef signed <span class="token builtin">int</span>      <span class="token builtin">int32</span><span class="token punctuation">;</span>
typedef unsigned <span class="token builtin">int</span>        <span class="token builtin">uint32</span><span class="token punctuation">;</span>
typedef signed long long <span class="token builtin">int</span>    <span class="token builtin">int64</span><span class="token punctuation">;</span>
typedef unsigned long long <span class="token builtin">int</span>  <span class="token builtin">uint64</span><span class="token punctuation">;</span>
typedef float           <span class="token builtin">float32</span><span class="token punctuation">;</span>
typedef double          <span class="token builtin">float64</span><span class="token punctuation">;</span>

#ifdef _64BIT
typedef <span class="token builtin">uint64</span>      <span class="token builtin">uintptr</span><span class="token punctuation">;</span>
typedef <span class="token builtin">int64</span>       intptr<span class="token punctuation">;</span>
typedef <span class="token builtin">int64</span>       intgo<span class="token punctuation">;</span> <span class="token comment">// Go's int</span>
typedef <span class="token builtin">uint64</span>      uintgo<span class="token punctuation">;</span> <span class="token comment">// Go's uint</span>
#<span class="token keyword">else</span>
typedef <span class="token builtin">uint32</span>      <span class="token builtin">uintptr</span><span class="token punctuation">;</span>
typedef <span class="token builtin">int32</span>       intptr<span class="token punctuation">;</span>
typedef <span class="token builtin">int32</span>       intgo<span class="token punctuation">;</span> <span class="token comment">// Go's int</span>
typedef <span class="token builtin">uint32</span>      uintgo<span class="token punctuation">;</span> <span class="token comment">// Go's uint</span>
#endif

#ifdef _64BITREG
typedef <span class="token builtin">uint64</span>      uintreg<span class="token punctuation">;</span>
#<span class="token keyword">else</span>
typedef <span class="token builtin">uint32</span>      uintreg<span class="token punctuation">;</span>
#endif

<span class="token comment">// 第153行到157行</span>
enum
<span class="token punctuation">{</span>
    <span class="token boolean">true</span>    <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>install B 时刻:
Go本质就是用C语言编写的一门高级编程语言
注意点: 企业开发中一般使用int, 因为int会根据你当前的操作系统自动转换为int32和int64</p></div> <h2 id="go语言变量"><a href="#go语言变量" aria-hidden="true" class="header-anchor">#</a> Go语言变量</h2> <ul><li>Go语言中变量的概念和C语言中也一样, 所以我们直接来看下如何定义和使用变量即可</li> <li>C语言中定义变量的格式</li></ul> <div class="language- extra-class"><pre class="language-text"><code>数据类型 变量名称;
数据类型 变量名称1, 变量名称2;
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>

<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token builtin">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> char <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token builtin">int</span> num1<span class="token punctuation">;</span> <span class="token comment">// 先定义</span>
    num1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 后初始化</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token builtin">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// 定义的同时初始化</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = %d\n&quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 注意: 同时定义多个变量,不支持定义时初始化, 只能先定义后初始化</span>
    <span class="token builtin">int</span> num3<span class="token punctuation">,</span> num4<span class="token punctuation">;</span> <span class="token comment">//同时定义多个变量</span>
    num3 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    num4 <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = %d\n&quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = %d\n&quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Go语言中定义变量有三种格式</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 标准格式
var 变量名称 数据类型 = 值;
// 自动推到类型格式
var 变量名称 = 值;
// 简短格式(golang官方推荐格式)
变量名称 := 值;
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token comment">// 先定义</span>
    num1 <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 后赋值</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>

    <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">20</span> <span class="token comment">// 定义的同时赋值</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>

    <span class="token keyword">var</span> num3  <span class="token operator">=</span> <span class="token number">30</span> <span class="token comment">// 定义的同时赋值, 并省略数据类型</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
    
    num4  <span class="token operator">:=</span> <span class="token number">40</span> <span class="token comment">// 定义的同时赋值, 并省略关键字和数据类型</span>
    <span class="token comment">/*
    num4  := 40 等价于
    var num4 int
    num4 = 40
    */</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>和C语言一样,除了可以定义单个变量以外,还支持一次性定义多个变量</p> <ul><li>方式一, 连续定义</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num1<span class="token punctuation">,</span> num2 <span class="token builtin">int</span> <span class="token comment">// 先定义</span>
    num1 <span class="token operator">=</span> <span class="token number">10</span>   <span class="token comment">// 后赋值</span>
    num2 <span class="token operator">=</span> <span class="token number">20</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
 
    <span class="token keyword">var</span> num3<span class="token punctuation">,</span> num4 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span> <span class="token comment">// 定义的同时赋值</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>
 
    <span class="token keyword">var</span> num5<span class="token punctuation">,</span> num6 <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span> <span class="token comment">// 定义的同时赋值, 并省略数据类型</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num5 = &quot;</span><span class="token punctuation">,</span> num5<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num6 = &quot;</span><span class="token punctuation">,</span> num6<span class="token punctuation">)</span>
 
    num7<span class="token punctuation">,</span> num8 <span class="token operator">:=</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span> <span class="token comment">// 定义的同时赋值, 并省略关键字和数据类型</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num7 = &quot;</span><span class="token punctuation">,</span> num7<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num8 = &quot;</span><span class="token punctuation">,</span> num8<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>方式二, 变量组</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span><span class="token punctuation">(</span> <span class="token comment">// 先定义</span>
        num1 <span class="token builtin">int</span>
        num2 <span class="token builtin">float32</span>
    <span class="token punctuation">)</span>
    num1 <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 后赋值</span>
    num2 <span class="token operator">=</span> <span class="token number">3.14</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>

    <span class="token keyword">var</span><span class="token punctuation">(</span> <span class="token comment">// 定义的同时赋值</span>
        num3 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">30</span>
        num4 <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">6.66</span>
    <span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>

    <span class="token keyword">var</span><span class="token punctuation">(</span> <span class="token comment">// 定义的同时赋值, 并省略数据类型</span>
        num5 <span class="token operator">=</span> <span class="token number">50</span>
        num6 <span class="token operator">=</span> <span class="token number">7.77</span>
    <span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num5 = &quot;</span><span class="token punctuation">,</span> num5<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num6 = &quot;</span><span class="token punctuation">,</span> num6<span class="token punctuation">)</span>

    <span class="token keyword">var</span><span class="token punctuation">(</span> <span class="token comment">// 一行定义多个</span>
        num7<span class="token punctuation">,</span> num8 <span class="token operator">=</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span>
        num9<span class="token punctuation">,</span> num10 <span class="token operator">=</span> <span class="token number">9.99</span><span class="token punctuation">,</span> <span class="token number">100</span>
    <span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num7 = &quot;</span><span class="token punctuation">,</span> num7<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num8 = &quot;</span><span class="token punctuation">,</span> num8<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num9 = &quot;</span><span class="token punctuation">,</span> num9<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num10 = &quot;</span><span class="token punctuation">,</span> num10<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="go语言变量定义注意点"><a href="#go语言变量定义注意点" aria-hidden="true" class="header-anchor">#</a> Go语言变量定义注意点</h2> <ul><li>简短模式的含义是定义的同时初始化</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num <span class="token operator">:=</span> <span class="token number">10</span>
    num <span class="token operator">:=</span> <span class="token number">20</span> <span class="token comment">// 编译报错, 重复定义</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>一定不要把:=当做赋值运算符来使用</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 定义一个全局变量</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num <span class="token operator">:=</span> <span class="token number">20</span> <span class="token comment">// 定义一个局部变量</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
        <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token comment">// 还是输出10</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>:=只能用于定义局部变量,不能用于定义全局变量</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
num <span class="token operator">:=</span> <span class="token number">10</span> <span class="token comment">// 编译报错</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>使用:=定义变量时,不能指定var关键字和数据类型</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//var num int := 10 // 编译报错</span>
    <span class="token comment">//var num := 10 // 编译报错</span>
    num <span class="token builtin">int</span> <span class="token operator">:=</span> <span class="token number">10</span> <span class="token comment">// 编译报错</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>变量组中不能够使用:=</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span><span class="token punctuation">(</span>
        num <span class="token operator">:=</span> <span class="token number">10</span> <span class="token comment">// 编译报错</span>
    <span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num = &quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>通过:=同时定义多个变量, 必须给所有变量初始化</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//num1, num2 := 666, 888 // 正确</span>
    num1<span class="token punctuation">,</span> num2 <span class="token operator">:=</span> <span class="token number">666</span> <span class="token comment">// 报错</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d, %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>通过:=同时定义多个变量, 只要任意一个变量没有定义过,都会做退化赋值操作</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 定义一个变量num1</span>
    num1 <span class="token operator">:=</span> <span class="token number">10</span>
    <span class="token comment">// 同时定义两个变量num1和num2, 由于num2从来没有定义过,</span>
    <span class="token comment">// 所以对于num1来说:=退化为赋值运算符, 而对于num2来说:=仍然是定义+赋值</span>
    num1<span class="token punctuation">,</span> num2 <span class="token operator">:=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num1 <span class="token operator">:=</span> <span class="token number">10</span>
    num2 <span class="token operator">:=</span> <span class="token number">20</span>
    <span class="token comment">// 报错, 因为num1,和num2都已经被定义过</span>
    <span class="token comment">// 至少要有任意一个变量没有被定义过,才会退化赋值</span>
    num1<span class="token punctuation">,</span> num2 <span class="token operator">:=</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>定义的局部变量或者导入的包没有被使用, 那么编译器会报错,无法编译运行,但是定义的全局变量没有被使用,编译器不会报错, 可以编译运行</li></ul> <h2 id="局部变量和全局变量"><a href="#局部变量和全局变量" aria-hidden="true" class="header-anchor">#</a> 局部变量和全局变量</h2> <ul><li>和C语言一样,按照变量的作用域,我们可以把变量划分为局部变量和全局变量</li> <li>Go语言中局部变量的概念以及全局变量的概念和C语言一模一样</li> <li>局部变量：
<ul><li>定义在函数内部的变量以及函数的形参称为局部变量</li> <li>作用域：从定义哪一行开始直到与其所在的代码块结束</li> <li>生命周期:从程序运行到定义哪一行开始分配存储空间到程序离开该变量所在的作用域</li></ul></li> <li>全局变量：
<ul><li>定义在函数外面的变量称为全局变量</li> <li>作用域范围：从定义哪行开始直到文件结尾</li> <li>生命周期:程序一启动就会分配存储空间,直到程序结束</li></ul></li> <li>和C语言不同的是, C语言中可以定义相同名称的全局变量, 而Go语言中无论全局变量还是局部变量, 只要作用域相同都不能出现同名的变量</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token comment">//var num1 int</span>
<span class="token comment">//var num1 int // 报错, 重复定义</span>
<span class="token keyword">var</span> num3 <span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//var num2</span>
    <span class="token comment">//var num2 // 报错, 重复定义</span>
    
    <span class="token keyword">var</span> num3 <span class="token builtin">int</span> <span class="token comment">// 不报错, 因为作用域不同</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>C语言中全局变量没有赋值,那么默认初始值为0, 局部变量没有赋值,那么默认初始值是随机值</li> <li>Go语言中无论是全局变量还是局部变量,只要定义了一个变量都有默认的0值
<ul><li>int/int8/int16/int32/int64/uint/uint8/uint16/uint32/uint64/byte/rune/uintptr的默认值是0
+float32/float64的默认值是0.0</li> <li>bool的默认值是false</li> <li>string的默认值是&quot;&quot;</li> <li>pointer/function/interface/slice/channel/map/error的默认值是nil</li> <li>其它复合类型array/struct默认值是内部数据类型的默认值</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>package main
import &quot;fmt&quot;
func main() {
    var intV int // 整型变量
    var floatV float32 // 实型变量
    var boolV bool // 布尔型变量
    var stringV string // 字符串变量
    var pointerV *int // 指针变量
    var funcV func(int, int)int // function变量
    var interfaceV interface{} // 接口变量
    var sliceV []int // 切片变量
    var channelV chan int // channel变量
    var mapV map[string]string // map变量
    var errorV error // error变量

    fmt.Println(&quot;int = &quot;, intV) // 0
    fmt.Println(&quot;float = &quot;, floatV) // 0
    fmt.Println(&quot;bool = &quot;, boolV) // false
    fmt.Println(&quot;string = &quot;, stringV) // &quot;&quot;
    fmt.Println(&quot;pointer = &quot;, pointerV) // nil
    fmt.Println(&quot;func = &quot;, funcV) // nil
    fmt.Println(&quot;interface = &quot;, interfaceV) // nil
    fmt.Println(&quot;slice = &quot;, sliceV) // []
    fmt.Println(&quot;slice = &quot;, sliceV == nil) // true
    fmt.Println(&quot;channel = &quot;, channelV) // nil
    fmt.Println(&quot;map = &quot;, mapV) // map[]
    fmt.Println(&quot;map = &quot;, mapV == nil) // true
    fmt.Println(&quot;error = &quot;, errorV) // nil

    var arraryV [3]int // 数组变量
    type Person struct{
        name string
        age int
    }
    var structV Person // 结构体变量
    fmt.Println(&quot;arrary = &quot;, arraryV) // [0, 0, 0]
    fmt.Println(&quot;struct = &quot;, structV) // {&quot;&quot; 0}
}
</code></pre></div><h2 id="数据类型转换"><a href="#数据类型转换" aria-hidden="true" class="header-anchor">#</a> 数据类型转换</h2> <ul><li>C语言中数据可以隐式转换或显示转换, 但是Go语言中数据<code>只能显示转换</code></li> <li>C语言隐式转换</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 隐式转换:自动将实型10.6转换为整型后保存</span>
   <span class="token builtin">int</span> a <span class="token operator">=</span> <span class="token number">10.6</span><span class="token punctuation">;</span>
 <span class="token comment">// 自动类型提升: 运算时会自动将小类型转换为大类型后运算</span>
  double b <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 等价于1.0 / 2.0</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>C语言显示转换(强制转换)</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 显示转换:强制将实型10.6转换为整型后保存</span>
  <span class="token builtin">int</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token number">10.5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>Go语言数值类型之间转换</p> <ul><li>格式: <code>数据类型(需要转换的数据)</code></li> <li>注意点: 和C语言一样数据可以从大类型转换为小类型, 也可以从小类型转换为大类型. 但是大类型转换为小类型可能会丢失精度</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token keyword">package</span> main
  <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
  <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> num0 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>
      <span class="token keyword">var</span> num1 <span class="token builtin">int8</span> <span class="token operator">=</span> <span class="token number">20</span>
      <span class="token keyword">var</span> num2 <span class="token builtin">int16</span>
      <span class="token comment">//num2 = num0 // 编译报错, 不同长度的int之间也需要显示转换</span>
      <span class="token comment">//num2 = num1 // 编译报错, 不同长度的int之间也需要显示转换</span>
      num2 <span class="token operator">=</span> <span class="token function">int16</span><span class="token punctuation">(</span>num0<span class="token punctuation">)</span>
      num2 <span class="token operator">=</span> <span class="token function">int16</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
  
      <span class="token keyword">var</span> num3 <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.14</span>
      <span class="token keyword">var</span> num4 <span class="token builtin">float64</span>
      <span class="token comment">//num4 = num3 // 编译报错, 不同长度的float之间也需要显示转换</span>
      num4 <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num4<span class="token punctuation">)</span>
  
      <span class="token keyword">var</span> num5 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token number">11</span>
      <span class="token keyword">var</span> num6 <span class="token builtin">uint8</span> <span class="token comment">// 这里不是隐式转换, 不报错的原因是byte的本质就是uint8</span>
      num6 <span class="token operator">=</span> num5
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num6<span class="token punctuation">)</span>
  
      <span class="token keyword">var</span> num7 <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token number">11</span>
      <span class="token keyword">var</span> num8 <span class="token builtin">int32</span>
      num8 <span class="token operator">=</span> num7 <span class="token comment">// 这里不是隐式转换, 不报错的原因是byte的本质就是int32</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num8<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="数值类型和字符串类型之间转换"><a href="#数值类型和字符串类型之间转换" aria-hidden="true" class="header-anchor">#</a> 数值类型和字符串类型之间转换</h2> <ul><li>Go语言中不能通过 数据类型(变量)的格式将数值类型转换为字符串, 也不能通过 数据类型(变量)的格式将字符串转换为数值类型</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>    <span class="token keyword">package</span> main
    <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
    <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> num1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">65</span>
        <span class="token comment">// 可以将整型强制转换, 但是会按照ASCII码表来转换</span>
        <span class="token comment">// 但是不推荐这样使用</span>
        <span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>

        <span class="token keyword">var</span> num2 <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.14</span>
        <span class="token comment">// 不能将其它基本类型强制转换为字符串类型</span>
        <span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>

        <span class="token keyword">var</span> str3 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;97&quot;</span>
        <span class="token comment">// 不能强制转换, cannot convert str2 (type string) to type int</span>
        <span class="token keyword">var</span> num3  <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>数值类型转字符串类型strconv..FormatXxx()</strong></li></ul> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token keyword">package</span> main
  <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
  <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> num1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">10</span>
      <span class="token comment">// 第一个参数: 需要被转换的整型,必须是int64类型</span>
      <span class="token comment">// 第二个参数: 转换为几进制,  必须在2到36之间</span>
      <span class="token comment">// 将32位十进制整型变量10转换为字符串,并继续保留10进制格式</span>
      str1 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span> <span class="token comment">// 10</span>
      <span class="token comment">// 将32位十进制整型变量10转换为字符串,并转换为2进制格式</span>
      str2 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span> <span class="token comment">// 1010</span>

      <span class="token keyword">var</span> num5 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">3.1234567890123456789</span>
      <span class="token comment">// 第一个参数: 需要转换的实型, 必须是float64类型</span>
      <span class="token comment">// 第二个参数: 转换为什么格式,f小数格式, e指数格式</span>
      <span class="token comment">// 第三个参数: 转换之后保留多少位小数, 传入-1按照指定类型有效位保留</span>
      <span class="token comment">// 第四个参数: 被转换数据的实际位数,float32就传32, float64就传64</span>
      <span class="token comment">// 将float64位实型,按照小数格式并保留默认有效位转换为字符串</span>
      str3 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span>num5<span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span> <span class="token comment">// 3.1234567</span>
      str4 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span>num5<span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span> <span class="token comment">// 3.1234567890123457</span>
      <span class="token comment">// 将float64位实型,按照小数格式并保留2位有效位转换为字符串</span>
      str5 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span>num5<span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str5<span class="token punctuation">)</span> <span class="token comment">// 3.12</span>
      <span class="token comment">// 将float64位实型,按照指数格式并保留2位有效位转换为字符串</span>
      str6 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span>num5<span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str6<span class="token punctuation">)</span> <span class="token comment">// 3.12</span>

      <span class="token keyword">var</span> num6 <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
      str7 <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatBool</span><span class="token punctuation">(</span>num6<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str7<span class="token punctuation">)</span> <span class="token comment">// true</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>字符串类型转数值类型strconv.ParseXxx()</strong></li></ul> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token keyword">package</span> main
  <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
  <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;125&quot;</span>
      <span class="token comment">// 第一个参数: 需要转换的数据</span>
      <span class="token comment">// 第二个参数: 转换为几进制</span>
      <span class="token comment">// 第三个参数: 转换为多少位整型</span>
      <span class="token comment">// 注意点: ParseInt函数会返回两个值, 一个是转换后的结果, 一个是错误</span>
      <span class="token comment">// 如果被转换的数据转换之后没有超出指定的范围或者不能被转换时,</span>
      <span class="token comment">// 那么错误为nil, 否则错误不为nil</span>
      <span class="token comment">// 将字符串&quot;125&quot;转换为10进制的int8</span>
      num1<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>

      <span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;150&quot;</span>
      <span class="token comment">// 将字符串&quot;150&quot;转换为10进制的int8</span>
      <span class="token comment">// 由于int8的取值范围是-128~127, 所以转换之后超出了指定的范围, error不为nil</span>
      num2<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>

      <span class="token keyword">var</span> str3 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;3.1234567890123456789&quot;</span>
      <span class="token comment">// 第一个参数: 需要转换的数据</span>
      <span class="token comment">// 第二个参数: 转换为多少位小数, 32 or 64</span>
      <span class="token comment">// ParseFloat同样有两个返回值, 如果能够正常转换则错误为nil, 否则不为nil</span>
      num3<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>str3<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
          <span class="token comment">// 例如: 把字符串&quot;3.14abc&quot;转换为小数就会报错, 因为&quot;3.14abc&quot;不是一个小数</span>
          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span>

      <span class="token keyword">var</span> str4 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span>
      <span class="token comment">// 第一个参数: 需要转换的数据</span>
      <span class="token comment">// ParseBool同样有两个返回值, 如果能够正常转换则错误为nil, 否则不为nil</span>
      num4<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num4<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><ul><li>字符串类型转换为数值类型时,如果不能转换除了返回error以外,还会返回对应类型的默认值</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>    <span class="token keyword">package</span> main
    <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
    <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span>
        num1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span> <span class="token comment">// 0</span>

        num2<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span> <span class="token comment">// 0</span>

        num3<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span> <span class="token comment">// false</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>看完上面的代码有没有种想打人的感觉? 如果有那么请继续往下看</li> <li>字符串类型和整型快速转换</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>   <span class="token keyword">package</span> main
   <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
   <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">var</span> num1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">110</span>
       <span class="token comment">// 快速将整型转换为字符串类型</span>
       <span class="token comment">// 注意:Itoa方法只能接受int类型</span>
       <span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span><span class="token function">int</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">)</span>
       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>

       <span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;666&quot;</span>
       <span class="token comment">// 快速将字符串类型转换为整型</span>
       <span class="token comment">// 注意: Atoi方法返回两个值, 一个值是int,一个值是error</span>
       <span class="token comment">// 如果字符串能被转换为int,那么error为nil, 否则不为nil</span>
       num2<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>
       <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span><span class="token punctuation">{</span>
           fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>数值类型转字符串类型其它方式</strong></li></ul> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token keyword">package</span> main
  <span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
  <span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> num1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">110</span>
      <span class="token comment">// Sprintf函数和Printf函数很像, 只不过不是输出而将格式化的字符串返回给我们</span>
      <span class="token keyword">var</span> str1 <span class="token builtin">string</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>

      <span class="token keyword">var</span> num2 <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.14</span>
      <span class="token keyword">var</span> str2 <span class="token builtin">string</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%f&quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span>

      <span class="token keyword">var</span> num3 <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">var</span> str3 <span class="token builtin">string</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;%t&quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="go语言常量"><a href="#go语言常量" aria-hidden="true" class="header-anchor">#</a> Go语言常量</h2> <ul><li><p>和C语言一样Go语言中的常量也分为<code>整型常量</code>、<code>实型常量</code>、<code>字符常量</code>、<code>字符串常量</code>、<code>自定义常量</code></p></li> <li><p>自定义常量</p> <ul><li>C语言自定义常量: <code>const 数据类型 常量名称 = 值;</code></li></ul> <div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token builtin">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> char <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">const</span> float PI <span class="token operator">=</span> <span class="token number">998</span><span class="token punctuation">;</span>
    PI <span class="token operator">=</span> <span class="token number">110</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;PI = %d\n&quot;</span><span class="token punctuation">,</span> PI <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Go语言自定义常量: <code>const 常量名称 数据类型 = 值</code> or  <code>const 常量名称 = 值</code></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//const PI float32 = 3.14</span>
  <span class="token comment">//PI = 110 // 报错</span>
  <span class="token comment">//fmt.Println(&quot;PI = &quot;, PI )</span>

  <span class="token keyword">const</span> PI <span class="token operator">=</span> <span class="token number">3.14</span>
  PI <span class="token operator">=</span> <span class="token number">110</span> <span class="token comment">// 报错</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;PI = &quot;</span><span class="token punctuation">,</span> PI <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>除此之外Go语言还支持<code>一次性定义多个常量</code></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 多重赋值方式</span>
  <span class="token keyword">const</span> num1<span class="token punctuation">,</span> num2 <span class="token builtin">int</span>  <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>

  <span class="token comment">// 常量组方式</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      num3 <span class="token operator">=</span> <span class="token number">100</span>
      num4 <span class="token operator">=</span> <span class="token number">200</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>

  <span class="token comment">// 常量组+多重赋值</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      num5<span class="token punctuation">,</span> num6 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span>
      num7 <span class="token operator">=</span> <span class="token number">300</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num5 = &quot;</span><span class="token punctuation">,</span> num5<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num6 = &quot;</span><span class="token punctuation">,</span> num6<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num7 = &quot;</span><span class="token punctuation">,</span> num7<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Go语言自定义常量注意点</p> <ul><li>定义的局部变量或者导入的包没有被使用, 那么编译器会报错,无法编译运行</li> <li>但是定义的常量没有被使用,编译器不会报错, 可以编译运行</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 可以编译运行</span>
  <span class="token keyword">const</span> PI <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token number">3.14</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在常量组中, 如果上一行常量有初始值,但是下一行没有初始值, 那么下一行的值就是上一行的值</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      num1 <span class="token operator">=</span> <span class="token number">998</span>
      num2 <span class="token comment">// 和上一行的值一样</span>
      num3 <span class="token operator">=</span> <span class="token number">666</span>
      num4 <span class="token comment">// 和上一行的值一样</span>
      num5 <span class="token comment">// 和上一行的值一样</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span> <span class="token comment">// 998</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token comment">// 998</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span> <span class="token comment">// 666</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span> <span class="token comment">// 666</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num5 = &quot;</span><span class="token punctuation">,</span> num5<span class="token punctuation">)</span> <span class="token comment">// 666</span>

  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      num1<span class="token punctuation">,</span> num2 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span>
      num3<span class="token punctuation">,</span> num4  <span class="token comment">// 和上一行的值一样, 注意变量个数必须也和上一行一样</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num1 = &quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num2 = &quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num3 = &quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;num4 = &quot;</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <hr> <ul><li>枚举常量
<ul><li>C语言中枚举类型的本质就是整型常量</li> <li>Go语言中没有C语言中明确意义上的enum定义, 但是可以借助iota标识符来实现枚举类型</li></ul></li> <li>C语言枚举格式:</li></ul> <div class="language- extra-class"><pre class="language-text"><code> enum　枚举名　{
    枚举元素1,
    枚举元素2,
    … …
 };
</code></pre></div><ul><li><p>C语言枚举中,如果没有指定初始值,那么从0开始递增</p> <div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token builtin">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> char <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    enum Gender<span class="token punctuation">{</span>
        male<span class="token punctuation">,</span>
        female<span class="token punctuation">,</span>
        yao<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//    enum Gender g = male;</span>
<span class="token comment">//    printf(&quot;%d\n&quot;, g); // 0</span>
<span class="token comment">//    enum Gender g = female;</span>
<span class="token comment">//    printf(&quot;%d\n&quot;, g); // 1</span>
    enum Gender g <span class="token operator">=</span> yao<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>C语言枚举中, 如果指定了初始值,那么从指定的数开始递增</li></ul> <div class="language-go extra-class"><pre class="language-go"><code>#include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
<span class="token builtin">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token builtin">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> char <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    enum Gender<span class="token punctuation">{</span>
        male <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
        female<span class="token punctuation">,</span>
        yao<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//    enum Gender g = male;</span>
<span class="token comment">//    printf(&quot;%d\n&quot;, g); // 5</span>
<span class="token comment">//    enum Gender g = female;</span>
<span class="token comment">//    printf(&quot;%d\n&quot;, g); // 6</span>
    enum Gender g <span class="token operator">=</span> yao<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <hr> <ul><li>Go语言实现枚举格式</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span><span class="token punctuation">(</span>
  枚举元素<span class="token number">1</span> <span class="token operator">=</span> <span class="token boolean">iota</span>
  枚举元素<span class="token number">2</span> <span class="token operator">=</span> <span class="token boolean">iota</span>
  <span class="token operator">...</span> <span class="token operator">...</span>
<span class="token punctuation">)</span>
</code></pre></div><ul><li><ul><li>利用iota标识符标识符实现从0开始递增的枚举</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">(</span>
        male <span class="token operator">=</span> <span class="token boolean">iota</span>
        female <span class="token operator">=</span> <span class="token boolean">iota</span>
        yao <span class="token operator">=</span> <span class="token boolean">iota</span>
    <span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> male<span class="token punctuation">)</span> <span class="token comment">// 0</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> female<span class="token punctuation">)</span> <span class="token comment">// 1</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> yao<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>iota注意点:</p> <ul><li>在同一个常量组中,iota从0开始递增, <code>每一行递增1</code></li> <li>在同一个常量组中,只要上一行出现了iota,那么后续行就会自动递增</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      male <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">// 这里出现了iota</span>
      female <span class="token comment">// 这里会自动递增</span>
      yao
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> male<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> female<span class="token punctuation">)</span> <span class="token comment">// 1</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> yao<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在同一个常量组中,如果iota被中断, 那么必须显示恢复</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      male <span class="token operator">=</span> <span class="token boolean">iota</span> 
      female <span class="token operator">=</span> <span class="token number">666</span> <span class="token comment">// 这里被中断, 如果没有显示恢复, 那么下面没有赋值的常量都和上一行一样</span>
      yao
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> male<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> female<span class="token punctuation">)</span> <span class="token comment">// 666</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> yao<span class="token punctuation">)</span> <span class="token comment">// 666</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
      male <span class="token operator">=</span> <span class="token boolean">iota</span> 
      female <span class="token operator">=</span> <span class="token number">666</span> <span class="token comment">// 这里被中断</span>
      yao <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">// 这里显示恢复, 会从当前常量组第一次出现iota的地方开始,每一行递增1, 当前是第3行,所以值就是2</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> male<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> female<span class="token punctuation">)</span> <span class="token comment">// 666</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> yao<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>iota也支持常量组+多重赋值, 在同一行的iota值相同</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">(</span>
    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token boolean">iota</span><span class="token punctuation">,</span> <span class="token boolean">iota</span>
    c<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token boolean">iota</span><span class="token punctuation">,</span> <span class="token boolean">iota</span>
  <span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;a = &quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;b = &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token comment">// 0</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;c = &quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// 1</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;d = &quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>iota自增默认数据类型为int类型, 也可以显示指定类型</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> <span class="token punctuation">(</span>
    male <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token comment">// 显示指定类型,后续自增都会按照指定类型自增</span>
    female
    yao
<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f\n&quot;</span><span class="token punctuation">,</span> male<span class="token punctuation">)</span> <span class="token comment">// 0.0</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f\n&quot;</span><span class="token punctuation">,</span> female<span class="token punctuation">)</span> <span class="token comment">// 1.0</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%f\n&quot;</span><span class="token punctuation">,</span> yao<span class="token punctuation">)</span> <span class="token comment">// 2.0</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;male = &quot;</span><span class="token punctuation">,</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>female<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// float32</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/source/go/04-four.html" class="prev">
          04-Go语言关键字和标识符
        </a></span> <span class="next"><a href="/source/go/06-six.html">
          06-输入输出函数
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.f7cda7dc.js" defer></script><script src="/assets/js/59.6642f800.js" defer></script>
  </body>
</html>
